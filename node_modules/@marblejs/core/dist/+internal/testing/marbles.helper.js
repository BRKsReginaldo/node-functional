"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("rxjs/testing");
exports.Marbles = {
    deepEquals: (actual, expected) => expect(actual).toEqual(expected),
    createTestScheduler: () => new testing_1.TestScheduler(exports.Marbles.deepEquals),
    assertEffect: (effect, marbleflow, dependencies = {}) => {
        const [initStream, initValues] = marbleflow[0];
        const [expectedStream, expectedValues] = marbleflow[1];
        const scheduler = exports.Marbles.createTestScheduler();
        const stream$ = scheduler.createColdObservable(initStream, initValues);
        scheduler
            .expectObservable(effect(stream$, dependencies.client, dependencies.meta))
            .toBe(expectedStream, expectedValues);
        scheduler.flush();
    },
};
