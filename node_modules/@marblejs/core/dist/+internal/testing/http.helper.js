"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const http = require("http");
const events_1 = require("events");
exports.createHttpRequest = (data) => Object.assign({}, {
    url: '/',
    method: 'GET',
    headers: {},
    query: {},
    params: {},
    meta: {},
}, data);
exports.createHttpResponse = (data = {}) => new class extends events_1.EventEmitter {
    constructor() {
        super(...arguments);
        this.statusCode = data.statusCode;
    }
};
exports.mockHttpServer = (mocks = {}) => jest.spyOn(http, 'createServer').mockImplementation(jest.fn(() => ({
    listen: mocks.listen || jest.fn(),
    close: mocks.close || jest.fn(callback => callback()),
    on: mocks.on || jest.fn(),
})));
