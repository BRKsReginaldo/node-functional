"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const operators_1 = require("rxjs/operators");
const logger_handler_1 = require("./logger.handler");
exports.logger$ = (opts = {}) => (req$, res) => req$.pipe(operators_1.timestamp(), operators_1.tap(logger_handler_1.loggerHandler(res, opts)), operators_1.map(({ value: req }) => req));
/**
 * @deprecated [#1] since version 2.0,
 * [#2] will be deleted in version 3.0,
 * [#3] use logger$ instead,
 */
exports.loggerWithOpts$ = (opts = {}) => (req$, res, meta) => {
    console.warn('Deprecation warning: loggerWithOpts$ is deprecated since v2.0 and will be removed in v3.0. Use logger$ instead.');
    return exports.logger$(opts)(req$, res, meta);
};
